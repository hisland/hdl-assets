var cropData = [,{"cId":1,"cName":"\u8349\u8393","cType":"1","growthCycle":"86400","maturingTime":"2","expect":1296,"output":"24","sale":"27","price":"605","cLevel":"10","cropExp":"20","vip":"1"}
				,{"cId":2,"cName":"\u767d\u841d\u535c","cType":"1","growthCycle":"36000","maturingTime":"1","expect":272,"output":"16","sale":"17","price":"125","cLevel":"0","cropExp":"15","vip":"1"}
				,{"cId":3,"cName":"\u80e1\u841d\u535c","cType":"1","growthCycle":"46800","maturingTime":"1","expect":357,"output":"17","sale":"21","price":"163","cLevel":"0","cropExp":"18","vip":"1"}
				,{"cId":4,"cName":"\u7389\u7c73","cType":"1","growthCycle":"50400","maturingTime":"1","expect":391,"output":"17","sale":"23","price":"175","cLevel":"3","cropExp":"19","vip":"1"}
				,{"cId":5,"cName":"\u571f\u8c46","cType":"1","growthCycle":"54000","maturingTime":"1","expect":432,"output":"18","sale":"24","price":"188","cLevel":"4","cropExp":"20","vip":"1"}
				,{"cId":6,"cName":"\u8304\u5b50","cType":"1","growthCycle":"57600","maturingTime":"1","expect":500,"output":"20","sale":"25","price":"237","cLevel":"5","cropExp":"21","vip":"1"}
				,{"cId":7,"cName":"\u756a\u8304","cType":"1","growthCycle":"61200","maturingTime":"1","expect":546,"output":"21","sale":"26","price":"251","cLevel":"6","cropExp":"22","vip":"1"}
				,{"cId":8,"cName":"\u8c4c\u8c46","cType":"1","growthCycle":"64800","maturingTime":"1","expect":594,"output":"22","sale":"27","price":"266","cLevel":"7","cropExp":"23","vip":"1"}
				,{"cId":9,"cName":"\u8fa3\u6912","cType":"1","growthCycle":"72000","maturingTime":"1","expect":672,"output":"24","sale":"28","price":"296","cLevel":"8","cropExp":"25","vip":"1"}
				,{"cId":10,"cName":"\u5357\u74dc","cType":"1","growthCycle":"79200","maturingTime":"1","expect":750,"output":"25","sale":"30","price":"325","cLevel":"9","cropExp":"27","vip":"1"}
				,{"cId":11,"cName":"\u82f9\u679c","cType":"1","growthCycle":"75600","maturingTime":"2","expect":1104,"output":"23","sale":"24","price":"578","cLevel":"10","cropExp":"18","vip":"1",'time':32400}
				,,{"cId":13,"cName":"\u8461\u8404","cType":"1","growthCycle":"165600","maturingTime":"3","expect":4089,"output":"29","sale":"47","price":"1978","cLevel":"15","cropExp":"30","vip":"1",'time':72000}
				,{"cId":14,"cName":"\u897f\u74dc","cType":"1","growthCycle":"100800","maturingTime":"2","expect":1566,"output":"27","sale":"29","price":"708","cLevel":"11","cropExp":"23","vip":"1",'time':46800}
				,{"cId":15,"cName":"\u9999\u8549","cType":"1","growthCycle":"111600","maturingTime":"2","expect":1856,"output":"29","sale":"32","price":"900","cLevel":"12","cropExp":"25","vip":"1",'time':50400}
				,,,{"cId":18,"cName":"\u6843\u5b50","cType":"1","growthCycle":"151200","maturingTime":"2","expect":2560,"output":"32","sale":"40","price":"1200","cLevel":"13","cropExp":"33","vip":"1",'time':64800}
				,{"cId":19,"cName":"\u6a59\u5b50","cType":"1","growthCycle":"133200","maturingTime":"3","expect":3198,"output":"26","sale":"41","price":"1587","cLevel":"14","cropExp":"25","vip":"1",'time':57600}
				,,,,{"cId":23,"cName":"\u77f3\u69b4","cType":"1","growthCycle":"187200","maturingTime":"3","expect":4860,"output":"30","sale":"54","price":"2425","cLevel":"16","cropExp":"34","vip":"1",'time':79200}
				,,,{"cId":26,"cName":"\u67da\u5b50","cType":"1","growthCycle":"219600","maturingTime":"3","expect":5742,"output":"33","sale":"58","price":"2855","cLevel":"17","cropExp":"39","vip":null,'time':93600}
				,{"cId":27,"cName":"\u83e0\u841d","cType":"1","growthCycle":"230400","maturingTime":"3","expect":6510,"output":"35","sale":"62","price":"3480","cLevel":"18","cropExp":"40","vip":null,'time':93600}
				,,{"cId":29,"cName":"\u6930\u5b50","cType":"1","growthCycle":"198000","maturingTime":"4","expect":7020,"output":"27","sale":"65","price":"3720","cLevel":"19","cropExp":"32","vip":null,'time':82800}
				,,{"cId":31,"cName":"\u846b\u82a6","cType":"1","growthCycle":"219600","maturingTime":"4","expect":8520,"output":"30","sale":"71","price":"4742","cLevel":"20","cropExp":"36","vip":null,'time':93600}
				,,{"cId":33,"cName":"\u706b\u9f99\u679c","cType":"1","growthCycle":"252000","maturingTime":"4","expect":9856,"output":"32","sale":"77","price":"5356","cLevel":"21","cropExp":"41","vip":null,'time':104400}
				,{"cId":34,"cName":"\u6a31\u6843","cType":"1","growthCycle":"259200","maturingTime":"4","expect":10296,"output":"33","sale":"78","price":"5527","cLevel":"22","cropExp":"42","vip":null,'time':108000}
				,{"cId":35,"cName":"\u8354\u679d","cType":"1","growthCycle":"277200","maturingTime":"4","expect":11696,"output":"34","sale":"86","price":"6588","cLevel":"23","cropExp":"44","vip":null,'time':126000}
				,,,{"cId":38,"cName":"\u6728\u74dc","cType":1,"growthCycle":165600,"maturingTime":5,"expect":11200,"output":28,"sale":80,"price":6975,"cLevel":24,"cropExp":26,"vip":null,'time':72000}
				,{"cId":39,"cName":"\u6768\u6843","cType":1,"growthCycle":165600,"maturingTime":5,"expect":11890,"output":29,"sale":82,"price":7576,"cLevel":25,"cropExp":27,"vip":null,'time':72000}
				,{"cId":40,"cName":"\u7267\u8349","cType":"1","growthCycle":"28800","maturingTime":"1","expect":150,"output":"25","sale":"6","price":"120","cLevel":"0","cropExp":"10","vip":null}
				,{"cId":41,"cName":"\u73ab\u7470","cType":1,"growthCycle":64800,"maturingTime":1,"expect":594,"output":22,"sale":27,"price":266,"cLevel":7,"cropExp":23,"vip":null}
				];

//操作列表,包含URL和POST数据,内含有需要执行的函数,所以使用eval()进行操作
var actList = {
	'login':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=user&act=run,'+getKey()",

	'seeSelf':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=user&act=run&flag=1,'+getKey()+'&ownerId=0'",
	'getFriendsList':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=friend,'+getKey()+'&refresh=true'",
	'seeFriend':"'http://nc.qzone.qq.com/cgi-bin/cgi_farm_index?mod=user&act=run&ownerId='+this.info.ownerId",

	'water':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=farmlandstatus&act=water,'+getKey()+'&place='+this.i+'&fName='+encodeAll(this.info.fName)+'&tName='+encodeAll(this.info.tName)+'&ownerId='+this.info.ownerId",
	'spraying':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=farmlandstatus&act=spraying,'+getKey()+'&place='+this.i+'&fName='+encodeAll(this.info.fName)+'&tName='+encodeAll(this.info.tName)+'&ownerId='+this.info.ownerId+'&tId=0'",
	'clearWeed':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=farmlandstatus&act=clearWeed,'+getKey()+'&place='+this.i+'&fName='+encodeAll(this.info.fName)+'&tName='+encodeAll(this.info.tName)+'&ownerId='+this.info.ownerId",

	'scrounge':"'http://nc.qzone.qq.com/cgi-bin/cgi_farm_steal?mod=farmlandstatus&act=scrounge,'+getKey()+'&place='+this.i+'&fName='+encodeAll(this.info.fName)+'&tName='+encodeAll(this.info.tName)+'&ownerId='+this.info.ownerId",
	'harvest':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=farmlandstatus&act=harvest,'+getKey()+'&place='+this.i+'&ownerId='+this.info.ownerId",

	'getRepertory':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=repertory&act=getUserCrop,'+getKey()",
	'getCrops':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=repertory&act=getSeedInfo,'+getKey()",

	'saleSingle':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=repertory&act=sale,'+getKey()+'&cId=3&number=21'",
	'saleAll':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=repertory&act=saleAll,'+getKey()",

	'buySeed':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=repertory&act=buySeed,'+getKey()+'&cId=10&number=8'",
	'seeSeeds':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=repertory&act=getUserSeed,'+getKey()",

	'pest':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=farmlandstatus&act=pest,'+getKey()+'&place=8&ownerId=463188362'",
	'scatterSeed':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=farmlandstatus&act=scatterSeed,'+getKey()+'&place='+this.i+'&fName='+encodeAll(fName)+'&tName='+encodeAll(tName)+'&ownerId='+ownerId",

	'scarify':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=farmlandstatus&act=scarify,'+getKey()+'ownerId=273004395&place=2'",
	'planting':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=farmlandstatus&act=planting,'+getKey()+'cId=10&ownerId=273004395&place=2'",
	'getNotice':"'http://happyfarm.'+this.info.ver+'.qq.com/api.php?mod=user&act=getNotice,'+getKey()"
};

function QQFarm(ver){
	return new init(ver);
}

//农场
function init(ver){
	this.info = {
				ver:ver,
				notice:'',
				weather:'',
				timer:'',

				fName:'',
				uId:'',
				tName:'',
				ownerId:'',
				dog:0,

				totalCure:0,
				totalExp:0,
				totalMoney:0,
				totalValue:0
				};
	this.oncomplete = function(){};

	var self = this;
	this.master = new Master;
	this.master.info = this.info;
	this.master.oncomplete = function(){
								self.master.toTable();
								self.master.oncomplete=function(){};
								self.loadFriends();
							}
	this.master.load();
}


//农场主人
function Master(){}
Master.prototype.load = function(){
	var self = this;
	var pData = eval(actList.login).split(',');
	sendRequest(pData[0]).post(pData[1]).callback(function(req){self.parse(req)}).send();
}
Master.prototype.parse = function(req){
	var rs = req.responseText;
	rs = eval('('+rs+')');

	if(!rs.user.userName && !confirm('没有得到用户名,是否继续?')) return;

	for(var i in rs.user){
		if(i == 'headPic' && rs.user[i])continue;
		else if(i == 'headPic'){this[i] = '';continue;}
		this[i] = rs.user[i];
	}

	//更新info相关信息
	this.info.uId = this.uId;
	this.info.fName = this.userName;
	this.info.ownerId = this.uId;
	this.info.tName = this.userName;

	this.info.weather = rs.weather.weatherDesc;

	//更新等级信息
	this.level = 0;
	this.expNow = 0;
	this.expNeed = 0;
	for(var tmp=0;tmp < this.exp;this.level++){
		this.expNeed = 200*(this.level+1);
		tmp += this.expNeed;
		if(tmp > this.exp){
			tmp -= this.expNeed;
			this.expNow = this.exp - tmp;
			break;
		}
	}

	if(rs.dog && !rs.dog.isHungry){
		this.info.dog = new Number(1);
		this.info.dog.desc = "监视";
	}else if(rs.dog){
		this.info.dog = new Number(0);
		this.info.dog.desc = "饥饿";
	}else{
		this.info.dog = new String('');
		this.info.dog.desc = "没有";
	}

	//更新农场信息
	this.farm = new Farm(rs.farmlandStatus);
	this.farm.info = this.info;
	this.farm.oncomplete = this.oncomplete;
	this.farm.check();
}
Master.prototype.toTable = function(){
	$(this.info.ver+'_user').innerHTML = this.userName;
	$(this.info.ver+'_userImg').alt = this.userName;

	$(this.info.ver+'_level').innerHTML = this.level+'级('+this.expNow+'/'+this.expNeed+')';
	$(this.info.ver+'_money').innerHTML = this.money;
	$(this.info.ver+'_earliest').innerHTML = this.farm.earliest;
	$(this.info.ver+'_dog').innerHTML = this.info.dog.desc;
}

//获取商店和种子信息
init.prototype.getSeedsInfo = function(){}
init.prototype.getShopInfo = function(){}
init.prototype.getRepertory = function(){}
init.prototype.sale = function(){}
init.prototype.saleAll = function(){}
init.prototype.buy = function(){}

//加载朋友列表
init.prototype.loadFriends = function(){
	var self = this;
	var pData = eval(actList.getFriendsList).split(',');
	sendRequest(pData[0]).post(pData[1]).callback(function(req){self.parseFriends(req)}).send();
}
init.prototype.parseFriends = function(req){
	var rs = req.responseText;
	rs = eval('('+rs+')');

	//将自己从列表中移除,并将头像转移到master上
	for(var i=0;i<rs.length;i++){
		if(rs[i].userId == this.master.uId){
			$(this.info.ver+'_userImg').src = this.master.headPic = rs[i].headPic;
			rs.splice(i,1);
			break;
		}
	}

	//将朋友按经验从大到小排序
	rs.sort(function(a,b){return b.exp - a.exp;});

	this.friends = [];
	var i=0;
	var self = this;
	function load(){
		if(i < rs.length){
			self.friends[i] = new Friend(rs[i]);
			self.friends[i].info = self.info;
			self.info.ownerId = rs[i].userId;
			self.info.tName = rs[i].userName;
			if(confirm(self.info.ownerId)) return;
			if(confirm(self.info.tName)) return;
			self.friends[i].oncomplete = function(){
											self.master.toTable();
											self.friends[i].toTable();
											self.friends[i].oncomplete = function(){};
											i++;
											setTimeout(load,numBetween(800,1000));
										}
			self.friends[i].load();
		}else{
			//执行完成函数
			self.oncomplete();
		}
	}
	load();
}
init.prototype.loadAll = function(){
	var self = this;
	this.master.oncomplete = function(){
		var i=0;
		var friends = self.friends;
		function load(){
			if(i < friends.length){
				friends[i].oncomplete = function(){
												self.master.toTable();
												friends[i].toTable();
												friends[i].oncomplete = function(){};
												i++;
												setTimeout(load,numBetween(800,1000));
											}
				self.friends[i].load();
			}else{
				//执行完成函数
				self.oncomplete();
			}
		}
		load();
	}
	this.master.load();
}


//单个朋友
function Friend(data){
	for(var i in data)
		this[i] = data[i];

	//建立等级信息
	this.level = 0;
	this.expNow = 0;
	this.expNeed = 0;
}
Friend.prototype.load = function(){
	var self = this;
	var pData = eval(actList.seeFriend).split(',');
	sendRequest(pData[0]).post(pData[1]).callback(function(req){self.parse(req)}).send();
}
Friend.prototype.parse = function(req){
	var rs = req.responseText;

	rs = eval('('+rs+')');

	//更新等级信息
	this.exp = rs.exp;
	for(var tmp=0;tmp < this.exp;this.level++){
		this.expNeed = 200*(this.level+1);
		tmp += this.expNeed;
		if(tmp > this.exp){
			tmp -= this.expNeed;
			this.expNow = this.exp - tmp;
			break;
		}
	}

	this.info.tName = this.userName;
	this.info.ownerId = this.ownerId;

	if(rs.dog && !rs.dog.isHungry){
		this.info.dog = new Number(1);
		this.info.dog.desc = "监视";
	}else if(rs.dog){
		this.info.dog = new Number(0);
		this.info.dog.desc = "饥饿";
	}else{
		this.info.dog = new String('');
		this.info.dog.desc = "没有";
	}

	//更新农场信息
	this.farm = new Farm(rs.farmlandStatus);
	this.farm.info = this.info;
	this.farm.oncomplete = this.oncomplete;
	this.farm.check();
}
Friend.prototype.toTable = function(){
	var tr = makeTag('tr',[makeTag('td',this.userName),makeTag('td',this.level+'级('+this.expNow+'/'+this.expNeed+')'),makeTag('td',this.money),makeTag('td',this.farm.earliest),makeTag('td',this.info.dog.desc),makeTag('td','<input type="checkbox" />')],this.info.ver+this.userId);
	if($(this.info.ver+this.userId)){
		var otr = $(this.info.ver+this.userId);
		otr.parentNode.replaceChild(tr,otr);
	}else{
		$(this.info.ver+'_friends').getElementsByTagName('tbody')[1].appendChild(tr);
		$(this.info.ver+'_friends').scrollTop = $(this.info.ver+'_friends').scrollHeight;
	}
	Fade(tr,'pink');
}


//农场田地
function Farm(fs){
	this.i = 0;
	this.fs = fs;
}
Farm.prototype.check = function(){
	var self = this;
	var pData;
	if(this.i < this.fs.length){
		//自己的地里有产量,就收获
		if(this.info.uId == this.info.ownerId && this.fs[this.i].k>0){
			pData = eval(actList.harvest).split(',');

		//别人的地里有产量&&剩余大于最少&&没有狗&&没有偷过,就偷取
		}else if(this.fs[this.i].k>0 && this.fs[this.i].m>this.fs[this.i].l && !Number(this.info.dog) && !this.stolen()){
			pData = eval(actList.scrounge).split(',');

		//没有成熟&&有草,则锄草
		}else if(this.fs[this.i].k==0 && this.fs[this.i].f>0){
			pData = eval(actList.clearWeed).split(',');

		//没有成熟&&有虫,则除虫
		}else if(this.fs[this.i].k==0 && this.fs[this.i].g>0){
			pData = eval(actList.spraying).split(',');

		//没有成熟&&干旱,则浇水
		}else if(this.fs[this.i].k==0 && this.fs[this.i].h<1){
			pData = eval(actList.water).split(',');

		//没有状态,增量+1且返回
		}else{
			this.i++;
			setTimeout(function(){self.check()},1);
			return;
		}
		sendRequest(pData[0]).post(pData[1]).callback(function(req){self.parse(req)}).send();
	}else{
		//更新总计信息
		this.refreshTotal();
		//获取最早成熟信息
		this.getEarliest();
		//完成了就执行完成函数
		this.oncomplete();
	}
}
Farm.prototype.parse = function(req){
	var rs = req.responseText;
	var ts = rs;
	var self = this;
	try{
		rs = eval('('+rs+')');
		if(!rs) alert('返回值为空: '+decodeURI(ts));
		if(rs.errorType) alert('遇到错误: '+decodeURI(ts));
		if(!rs.code) alert('无数据处理: '+decodeURI(ts));
		if(rs.validateCode) alert('需要输入验证码: '+decodeURI(ts));

		var p = document.createElement('p');

		//浇水操作
		if(rs.hasOwnProperty('humidity')){
			this.fs[this.i].h = rs.humidity;
			this.info.totalCure++;
			this.info.totalExp += rs.exp;
			this.info.totalMoney += rs.money;
			p.innerHTML = '<span class="action">状态</span>给<span>'+this.info.tName+'</span>['+this.i+'号]农田<span>浇水</span>,获得经验+'+rs.exp+'、金钱+'+rs.money;

		//锄草操作
		}else if(rs.hasOwnProperty('weed')){
			this.fs[this.i].f = rs.weed;
			this.info.totalCure++;
			this.info.totalExp += rs.exp;
			this.info.totalMoney += rs.money;
			p.innerHTML = '<span class="action">状态</span>给<span>'+this.info.tName+'</span>['+this.i+'号]农田<span>锄草</span>,获得经验+'+rs.exp+'、金钱+'+rs.money;

		//除虫操作
		}else if(rs.hasOwnProperty('pest')){
			this.fs[this.i].g = rs.pest;
			this.info.totalCure++;
			this.info.totalExp += rs.exp;
			this.info.totalMoney += rs.money;
			p.innerHTML = '<span class="action">状态</span>给<span>'+this.info.tName+'</span>['+this.i+'号]农田<span>除虫</span>,获得经验+'+rs.exp+'、金钱+'+rs.money;

		//收获果实操作
		}else if(rs.harvest && rs.exp){
			this.fs[this.i].k = rs.status.output;
			this.info.totalExp += rs.exp;
			this.info.totalValue += cropData[rs.status.cId].sale*rs.harvest;

			p.className = 'scrounge';
			p.innerHTML = '<span class="action">果实</span>收获['+this.i+'号]农田<span>'+cropData[rs.status.cId].cName+'×'+rs.harvest+'</span>,价值'+cropData[rs.status.cId].sale*rs.harvest+',经验'+rs.exp;
			
			if(rs.status.harvestTimes == cropData[rs.status.cId].maturingTime) p.innerHTML += ',作物已枯萎';

		//偷果实操作
		}else if(rs.harvest && !rs.exp){
			this.fs[this.i].n = rs.status.thief;
			this.info.totalValue += cropData[rs.status.cId].sale*rs.harvest;
			p.className = 'scrounge';
			p.innerHTML = '<span class="action">果实</span>摘<span>'+this.info.tName+'</span>['+this.i+'号]农田<span>'+cropData[rs.status.cId].cName+'×'+rs.harvest+'</span>,价值'+cropData[rs.status.cId].sale*rs.harvest;
		}
	}catch(e){
		var time = new Date();
		p.className = 'err';
		p.innerHTML = '产生错误于: '+time.getFullYear()+'-'+time.getMonth()+'-'+time.getDate() +' '+ time.toLocaleTimeString() + ts;
	}finally{
		if(p.innerHTML != ''){
			$(this.info.ver+'_log').appendChild(p);
			$(this.info.ver+'_log').scrollTop = $(this.info.ver+'_log').scrollHeight;
			Fade(p,'pink');
		}
		setTimeout(function(){self.check()},numBetween(300,500));
	}
}
Farm.prototype.stolen = function(){
	for(var i in this.fs[this.i].n){
		if(i == this.info.uId)
			return 1;
		return 0;
	}
}
Farm.prototype.getEarliest = function(){
	this.earliest = '';
	this.earliestTime = (this.fs[0].j == 0)?(this.fs[0].q-0) + (cropData[this.fs[0].a].growthCycle-0):(this.fs[0].r-0) + (cropData[this.fs[0].a].time-0);
	this.j = 0;
	for(var i=1,tempTime=0;i<this.fs.length;i++){

		//有产量或者没有种植时间则表示已成熟或者无作物,跳出本次
		if(this.fs[i].k > 0 || this.fs[i].q == 0) continue;

		//等于0表示第1季,采用plant时间,大于0表示非第一季,采用update时间
		tempTime = (this.fs[i].j == 0)?(this.fs[i].q-0) + (cropData[this.fs[i].a].growthCycle-0):(this.fs[i].r-0) + (cropData[this.fs[i].a].time-0);
		this.j = this.earliestTime < tempTime ? this.j : i;
		this.earliestTime = Math.min(this.earliestTime,tempTime);
	}

	var t1,t2,d1,d2,d;
	t1 = new Date(this.earliestTime*1000);
	d1 = t1.getDate();
	t2 = new Date();
	d2 = t2.getDate();
	if(d1 == d2) d = '今天';
	else if(d1 == d2+1) d = '明天';
	else if(d1 == d2+2) d = '后天';
	else d = d1 + '号';

	this.earliest = d + t1.toLocaleTimeString() + ' [' + this.j + ']' + cropData[this.fs[this.j].a].cName;
	if(t1 < t2 && this.fs[this.j].q) this.earliest = '已熟已偷';
	else if(t1 < t2) this.earliest = '没有作物';
}
Farm.prototype.refreshTotal = function(){
	$(this.info.ver+'_totalCure').innerHTML = this.info.totalCure;
	$(this.info.ver+'_totalExp').innerHTML = this.info.totalExp;
	$(this.info.ver+'_totalMoney').innerHTML = this.info.totalMoney;
	$(this.info.ver+'_totalValue').innerHTML = this.info.totalValue;
}